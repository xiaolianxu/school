<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../../layUi/css/layui.css" media="all">
</head>
<style type="text/css">
    html,body{
        height: 100%;
        width: 100%;
        margin: 0;
        padding: 0;
    }
    #userEnt{
        height: 100%;
        width: calc(100% - 50px);
        margin: 0;
        padding: 0;
    }
    .bu{
        margin-top: 10px;
    }
    .zhushi{
        color: #ff1e29;
        padding-bottom: 5px;
    }
    .layui-form-label{
        width: 100px;
    }
    .layui-inline{
        width: 350px;
    }
    .layui-form-selectup dl {
        top: 42px;
        bottom: unset;
    }
    .layui-input-block{
        text-align: center;
    }
</style>
<body>
<div id="userEnt">
    <div class="layui-collapse" lay-accordion style="margin-left: 10px;width: 1190px">
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">学生信息录入</h2>
            <div class="layui-colla-content layui-show">
                <div class="layui-collapse" lay-accordion>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">文件录入方式</h2>
                    <div class="layui-colla-content layui-show">
                        <div class="zhushi">请上传execl文件进行录入，文件字段名有严格要求，请按照如下字段名进行execl操作,中括号内为注释,以下参数均不可少且不能为空，否则上传失败。<br/>
                            学号,姓名,性别,出生日期【格式为yyyy-mm-dd,单元格格式为日期】,民族,政治面貌,来源地区,来源省,学院,系,专业名称,
                            行政班,学制,学籍状态,当前所在级,考生号,入学日期【格式为yyyy-mm-dd,单元格格式为日期】,手机号码,邮政编码,身份证号,学历层次,家庭电话,
                            母亲（监护人2）姓名,母亲（监护人2）单位,母亲（监护人2）身份证号,父亲（监护人1）姓名,父亲（监护人1）单位,父亲（监护人1）身份证号,
                            母亲（监护人2）电话或手机,父亲（监护人1）电话或手机,家庭所在地（/省/县）,家庭地址
                        </div>
                        <div><input type="file" id="execlUpload"/></div>
                        <div class="bu"><button type="button" class="layui-btn layui-btn-normal  layui-btn-sm" @click="upload()">上传</button></div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">手工录入方式</h2>
                    <div class="layui-colla-content">
                        <form class="layui-form" action="">
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">学号</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="userId" lay-verify="required|number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">姓名</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="userName" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">性别</label>
                                    <div class="layui-input-inline">
                                        <input type="radio" name="sex" value="男" title="男" checked="">
                                        <input type="radio" name="sex" value="女" title="女">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">出生日期</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="birthDay" id="birthDay" lay-verify="required|date" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">民族</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="famous" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">政治面貌</label>
                                    <div class="layui-input-inline">
                                        <input type="tel" name="political" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">来源省</label>
                                    <div class="layui-input-inline" >
                                        <select name="province" lay-filter="province" class="dl">
                                            <template v-for="(item,index) in source">
                                                <option :value="index">{{item}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">来源地区</label>
                                    <div class="layui-input-inline" >
                                        <select name="city" id="city">
                                            <template v-for="(item,index) in city">
                                                <option :value="index">{{item}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">学院</label>
                                    <div class="layui-input-inline">
                                        <select name="col" lay-filter="col">
                                            <template v-for="(item,index) in col">
                                                <option :value="index">{{item.name}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">系</label>
                                    <div class="layui-input-inline" >
                                        <select name="dep" lay-filter="dep" id="dep">
                                            <template v-for="(item,index) in dep">
                                                <option :value="index">{{item.name}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">专业</label>
                                    <div class="layui-input-inline" >
                                        <select name="pro" id="pro">
                                            <template v-for="item in pro">
                                                <option :value="item">{{item}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">行政班</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="admClass" lay-verify="required|number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">学制</label>
                                    <div class="layui-input-inline" >
                                        <input type="text" name="scSystem" lay-verify="required|number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">学籍状态</label>
                                    <div class="layui-input-inline" >
                                        <select name="status">
                                            <option value="注册学籍">注册学籍</option>
                                            <option value="已离校">已离校</option>
                                            <option value="保留学籍">保留学籍</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">当前所在级</label>
                                    <div class="layui-input-inline">
                                        <select name="grade">
                                            <template v-for="item in year">
                                                <option :value="item">{{item}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">入学日期</label>
                                    <div class="layui-input-inline" >
                                        <input type="text" name="admission" id="admission" lay-verify="required|date" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">考生号</label>
                                    <div class="layui-input-inline" >
                                        <input type="text" name="candidate" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">手机号码</label>
                                    <div class="layui-input-inline">
                                        <input type="tel" name="phone" lay-verify="required|phone" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">邮政编码</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="postalCode" lay-verify="required|number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">身份证号</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="idCard" lay-verify="required|identity" placeholder="" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">父亲（监护人1）姓名</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="mName" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">父亲（监护人1）单位</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="mOffice" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">父亲（监护人1）身份证号</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="mIdCard" lay-verify="required|identity" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">母亲（监护人2）姓名</label>
                                    <div class="layui-input-inline">
                                        <input type="tel" name="fName" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">母亲（监护人2）单位</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="fOffice" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">母亲（监护人2）身份证号</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="fIdCard" lay-verify="required|identity" placeholder="" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">母亲（监护人2）电话或手机</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="fPhone" lay-verify="required|phone" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">父亲（监护人1）电话或手机</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="mPhone" lay-verify="required|phone" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">家庭电话</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="homePhone" lay-verify="required|number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">学历层次</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="education" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">家庭地址</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="location" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">家庭所在地（/省/县）</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="address" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-input-block">
                                    <button type="submit" class="layui-btn layui-btn-normal" lay-submit="" lay-filter="demo1">立即提交</button>
                                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <div class="layui-colla-item">
            <h2 class="layui-colla-title">老师信息录入</h2>
            <div class="layui-colla-content">
                <div class="layui-collapse" lay-accordion>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">文件录入方式</h2>
                    <div class="layui-colla-content">
                        <div class="layui-form">
                            <div class="layui-form-item">
                                <label class="layui-form-label">选择上传角色：</label>
                                <div class="layui-input-inline">
                                    <select id="type">
                                        <option value="2">授课老师</option>
                                        <option value="3">辅导员</option>
                                        <option value="1">教务老师</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="zhushi">请上传execl文件进行录入，文件字段名有严格要求，请按照如下字段名进行execl操作,中括号内为注释,以下参数均不可少且不能为空，否则上传失败。<br/>
                            工号,名字,性别,民族,职称,入职日期【格式为yyyy-mm-dd,单元格格式为日期】,是否在职,最高学历,毕业院校,联系方式,政治面貌,身份证号,
                            部门,家庭地址,家庭所在地,来源地区,来源省,所属学院【若为空，则用-1表示】,出生日期【格式为yyyy-mm-dd,单元格格式为日期】,研究专业,婚姻状况,签订合同,
                            在编,英语等级【若为空，则用-1表示】,英语成绩【若为空，则用-1表示】,是否师范生,家庭电话【若为空，则用-1表示】
                        </div>
                        <div><input type="file" id="execlUpload1"/></div>
                        <div class="bu"><button type="button" class="layui-btn layui-btn-normal  layui-btn-sm" @click="upload1()">上传</button></div>
                    </div>
                </div>
                <div class="layui-colla-item">
                    <h2 class="layui-colla-title">手工录入方式</h2>
                    <div class="layui-colla-content">
                        <form class="layui-form" action="">
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">角色</label>
                                    <div class="layui-input-inline">
                                      <select name="role">
                                          <option value="2">授课老师</option>
                                          <option value="3">辅导员</option>
                                          <option value="1">教务老师</option>
                                      </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">工号</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="userId" lay-verify="required|number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">姓名</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="userName" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">性别</label>
                                    <div class="layui-input-inline">
                                        <input type="radio" name="sex" value="男" title="男" checked="">
                                        <input type="radio" name="sex" value="女" title="女">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">出生日期</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="birthDay" id="birth" lay-verify="required|date" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">民族</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="famous" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">政治面貌</label>
                                    <div class="layui-input-inline">
                                        <input type="tel" name="political" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">来源省</label>
                                    <div class="layui-input-inline" >
                                        <select name="province" lay-filter="province1" class="dl">
                                            <template v-for="(item,index) in source">
                                                <option :value="index">{{item}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">来源地区</label>
                                    <div class="layui-input-inline" >
                                        <select name="city" id="city1">
                                            <template v-for="(item,index) in city">
                                                <option :value="index">{{item}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">所属学院</label>
                                    <div class="layui-input-inline">
                                        <select name="college">
                                            <option :value="-1">请选择所属学院</option>
                                            <template v-for="item in col">
                                                <option :value="item.name">{{item.name}}</option>
                                            </template>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">部门</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="department" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">职称</label>
                                    <div class="layui-input-inline">
                                        <select name="jobTitle">
                                            <option value="教授">教授</option>
                                            <option value="副教授">副教授</option>
                                            <option value="讲师">讲师</option>
                                            <option value="助教">助教</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">在编</label>
                                    <div class="layui-input-inline">
                                        <input type="radio" name="system" value="是" title="是" checked="">
                                        <input type="radio" name="system" value="否" title="否">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">签订合同</label>
                                    <div class="layui-input-inline" >
                                        <select name="contract">
                                            <option value="聘用合同">聘用合同</option>
                                            <option value="人事代理合同">人事代理合同</option>
                                            <option value="劳务派遣合同">劳务派遣合同</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">是否在职</label>
                                    <div class="layui-input-inline" >
                                        <input type="radio" name="inService" value="是" title="是" checked="">
                                        <input type="radio" name="inService" value="否" title="否">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">入职日期</label>
                                    <div class="layui-input-inline" >
                                        <input type="text" name="admission" id="data" lay-verify="required|date" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">婚姻状况</label>
                                    <div class="layui-input-inline">
                                        <select name="marry">
                                            <option value="未婚">未婚</option>
                                            <option value="已婚">已婚</option>
                                            <option value="离异">离异</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">是否师范生</label>
                                    <div class="layui-input-inline" >
                                        <input type="radio" name="isT" value="是" title="是" checked="">
                                        <input type="radio" name="isT" value="否" title="否">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">联系方式</label>
                                    <div class="layui-input-inline">
                                        <input type="tel" name="phone" lay-verify="required|phone" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">家庭电话</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="homePhone" lay-verify="number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">身份证号</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="idCard" lay-verify="required|identity" placeholder="" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">最高学历</label>
                                    <div class="layui-input-inline">
                                        <select name="hEducation">
                                            <option value="博士">博士</option>
                                            <option value="硕士">硕士</option>
                                            <option value="本科">本科</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">毕业院校</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="institution" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">研究专业</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="major" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">英语等级</label>
                                    <div class="layui-input-inline">
                                        <select name="english">
                                            <option value="-1">请选择</option>
                                            <option value="雅思">雅思</option>
                                            <option value="托福">托福</option>
                                            <option value="托业">托业</option>
                                            <option value="GRE">GRE</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">英语成绩</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="engScore" lay-verify="number" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-inline">
                                    <label class="layui-form-label">家庭地址</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="location" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                                <div class="layui-inline">
                                    <label class="layui-form-label">家庭所在地（/省/县）</label>
                                    <div class="layui-input-inline">
                                        <input type="text" name="address" lay-verify="required" autocomplete="off" class="layui-input">
                                    </div>
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <div class="layui-input-block">
                                    <button type="submit" class="layui-btn layui-btn-normal" lay-submit="" lay-filter="demo2">立即提交</button>
                                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="../../js/outside/vue.js"></script>
<script src="../../js/outside/jquery.min.js"></script>
<script src="../../layUi/layui.js"></script>
<script src="../../js/data.js"></script>
<script type="text/javascript">
    var userEnt = new Vue({
        el: "#userEnt",
        name: "userEnt",
        data: function () {
            return {
                source:[],
                col:[],
                dep:[],
                pro:[],
                year:[],
                city:[],
                index:0
            }
        },
        beforeMount:function(){
          this.getList();
        },
        mounted:function(){
          this.init();
        },
        methods: {
            getList: function () {
                var That = this;
                $.post('../../student/getList.do',{},function(da) {
                    if(da.college.length>0){
                        That.col = da.college;
                        That.dep = That.col[0].department;
                        That.pro = That.dep[0].profession;
                        var y = new Date().getFullYear();
                        for(var i= y;i>1910;i--){
                            That.year.push(i);
                        }
                    }
                });
            },
            init:function(){
                var that = this;
                for(var i=0;i<SelectData.length;i++){
                    this.source.push(SelectData[i].name);
                }
                this.city = SelectData[0].cities;
                layui.use(['element', 'layer','form','laydate'], function() {
                    element = layui.element;
                    layer = layui.layer;
                    var form = layui.form;
                    var laydate = layui.laydate;
                    laydate.render({
                        elem: '#admission',
                        trigger: 'click'
                    });
                    laydate.render({
                        elem: '#birthDay',
                        trigger: 'click'
                    });
                    laydate.render({
                        elem: '#birth',
                        trigger: 'click'
                    });
                    laydate.render({
                        elem: '#data',
                        trigger: 'click'
                    });
                    form.on('select(province)',function(data) {
                        var proHtml='';
                        for(var i=0;i<SelectData[data.value].cities.length;i++){
                            proHtml+='<option value="'+ i +'">'+ SelectData[data.value].cities[i] + '</option>';
                        }
                        $('#city').html(proHtml);
                        form.render();
                    });
                    form.on('select(province1)',function(data) {
                        var proHtml='';
                        for(var i=0;i<SelectData[data.value].cities.length;i++){
                            proHtml+='<option value="'+ i +'">'+ SelectData[data.value].cities[i] + '</option>';
                        }
                        $('#city1').html(proHtml);
                        form.render();
                    });
                    form.on('select(col)',function(data) {
                        var proHtml='';
                        that.index= data.value;
                        var dep = that.col[data.value].department
                        for(var i=0;i<dep.length;i++){
                            proHtml+='<option value="'+ i +'">'+ dep[i].name + '</option>';
                        }
                        $('#dep').html(proHtml);
                        var proHtml1='';
                        var pro = dep[0].profession;
                        for(var i=0;i<pro.length;i++){
                            proHtml1+='<option value="'+ i +'">'+ pro[i] + '</option>';
                        }
                        $('#pro').html(proHtml1);
                        form.render();
                    });
                    form.on('select(dep)',function(data) {
                        var proHtml='';
                        var pro = that.col[that.index].department[data.value].profession;
                        for(var i=0;i<pro.length;i++){
                            proHtml+='<option value="'+ i +'">'+ pro[i] + '</option>';
                        }
                        $('#pro').html(proHtml);
                        form.render();
                    });
                    form.on('submit(demo1)', function(data){
                        var params = data.field;
                        var index = parseInt(data.field.col);
                        params.col = that.col[index].name;
                        var index1 = parseInt(data.field.dep);
                        params.dep = that.col[index].department[index1]["name"];
                        var index2 = parseInt(data.field.city);
                        var index3 = parseInt(data.field.province);
                        params.province = that.source[index3];
                        params.source = SelectData[index3].cities[index2];
                        $.ajax({
                            type: "POST",
                            url: "../../user/upLoadM.do",
                            data:JSON.stringify(params),
                            contentType: 'application/json',
                            success: function(data) {
                                if(data.returnCode==100){
                                    layer.msg("操作成功！");
                                }else{
                                    layer.msg(data.returnMsg);
                                }
                            }
                        });
                        return false;
                    });
                    form.on('submit(demo2)', function(data){
                        var params = data.field;
                        if(params.english=='-1'){
                            params.engScore = '-1';
                        }
                        var index2 = parseInt(data.field.city);
                        var index3 = parseInt(data.field.province);
                        params.province = that.source[index3];
                        params.source = SelectData[index3].cities[index2];
                        $.ajax({
                            type: "POST",
                            url: "../../user/upLoadM1.do",
                            data:JSON.stringify(params),
                            contentType: 'application/json',
                            success: function(data) {
                                if(data.returnCode==100){
                                    layer.msg("操作成功！");
                                }else{
                                    layer.msg(data.returnMsg);
                                }
                            }
                        });
                        return false;
                    });
                });
            },
            upload:function() {
                var formData = new FormData();
                formData.append('file', $('#execlUpload')[0].files[0]);
                layer.msg('文件上传中', {
                    icon: 16
                    ,shade: 0.01
                });
                $.ajax({
                    type: "POST",
                    url: "../../user/upLoad.do",
                    data:formData,
                    cache: false,
                    processData: false,
                    contentType: false,
                    encType:"multipart/form-data",
                    success: function(data) {
                        layer.closeAll('loading');
                        if(data.returnCode==100){
                            layer.msg("上传成功！");
                        }else{
                            layer.msg(data.returnMsg);
                        }
                    }
                });
            },
            upload1:function() {
                var formData = new FormData();
                formData.append('file', $('#execlUpload1')[0].files[0]);
                var role = $("#type").val();
                formData.append('role',role);
                layer.msg('文件上传中', {
                    icon: 16
                    ,shade: 0.01
                });
                $.ajax({
                    type: "POST",
                    url: "../../user/upLoad1.do",
                    data:formData,
                    cache: false,
                    processData: false,
                    contentType: false,
                    encType:"multipart/form-data",
                    success: function(data) {
                        layer.closeAll('loading');
                        if(data.returnCode==100){
                            layer.msg("上传成功！");
                        }else{
                            layer.msg(data.returnMsg);
                        }
                    }
                });
            }
        }
    });
</script>
</html>
